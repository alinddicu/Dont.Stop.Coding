<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<meta name="description" content="Sorting algorithms simulation">
	<meta name="keywords" content="sorting, algoritms">
	<meta name="author" content="Alin Dicu">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<title>Don't stop coding</title>
	<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
	<link rel="icon" type="image/png" href="images/favicon-game-of-life.ico" />

	<script src="lib/linq.min.js"></script>
	<script src="lib/knockout-latest.js"></script>
	<script src="lib/jquery.min.js"></script>
	<script src="lib/sammy-latest.min.js"></script>
	<link rel="stylesheet" href="styles/menu.css" type="text/css" />

	<script src="scripts/Sorting/Algorithms/SortBase.js"></script>
	<script src="scripts/Sorting/Algorithms/BubbleSort.js"></script>
	<script src="scripts/Sorting/Algorithms/InsertionSort.js"></script>
	<script src="scripts/Sorting/Algorithms/HeapSort.js"></script>
	<script src="scripts/Sorting/Algorithms/MergeSort.js"></script>
	<script src="scripts/Sorting/Algorithms/QuickSort.js"></script>
	<script src="scripts/Sorting/Algorithms/SelectionSort.js"></script>
	<script src="scripts/Sorting/Drawing/SingleCanvasDrawer.js"></script>
	<script src="scripts/Sorting/Drawing/MultiCanvasDrawer.js"></script>
	<script src="scripts/Sorting/Tools/RandomArrayGenerator.js"></script>
	<script src="scripts/Sorting/Tools/RankingSystem.js"></script>
	<script src="scripts/Sorting/Tools/OrdinalHelper.js"></script>

	<link rel="stylesheet" href="styles/sorting.css" />

	<script src="scripts/GoL/Logic/CellState.js"></script>
	<script src="scripts/GoL/Logic/Cell.js"></script>
	<script src="scripts/GoL/Logic/RectangularInfinite2DGrid.js"></script>
	<script src="scripts/GoL/Logic/Cycle.js"></script>

	<script src="scripts/GoL/Drawing/IGoLOptions.js"></script>
	<script src="scripts/GoL/Drawing/CellButton.js"></script>
	<script src="scripts/GoL/Drawing/Board.js"></script>
	<script src="scripts/GoL/Drawing/BoardLine.js"></script>
	<script src="scripts/GoL/Drawing/ParamsForm.js"></script>

	<script src="scripts/GoL/game-of-life-tests.js"></script>

	<script src="scripts/ViewModel/ViewModelBase.js"></script>
	<script src="scripts/ViewModel/GameOfLifeViewModel.js"></script>
	<script src="scripts/ViewModel/SortingArraysViewModel.js"></script>
	<script src="scripts/Tools/InputValueConverter.js"></script>
	<script src="scripts/Workflow.js"></script>

	<link rel="stylesheet" href="styles/game-of-life.css" type="text/css" />

</head>

<body>
	<nav role="navigation">
		<div id="menu-toggle" class="inline-right">
			<i class="material-icons" data-bind="visible: !menuOpen(), click: function() { menuOpen(true); }">menu</i>
			<i class="material-icons" data-bind="visible: menuOpen(), click: function() { menuOpen(false); }">close</i>
		</div>
		<div id="menu-entries-container" class="inline-right" data-bind="visible: menuOpen()">
			<a class="menu-entry" href="#" data-bind="click: function() { workflowViewModel.gotoSortingArrays(); }"><i class="material-icons menu">sort</i><span>Array sortings</span></a>
			<br />
			<a class="menu-entry" href="#" data-bind="click: function() { workflowViewModel.gotoGameOfLife(); }"><i class="material-icons menu">grid_on</i><span>Game of life</span></a>
			<br />
			<a class="menu-entry" href="https://github.com/alinddicu" target="_blank"><i class="material-icons menu">contact_support</i><span>About</span></a>
			<br class="clearBoth" />
		</div>
	</nav>

	<script type="text/html" id="game-of-life">
		<div id="main-over-container">
			<div id="main-container">
				<div id="controls-over-container">
					<div id="controls-container">
						<button class="control-button" data-bind="click: function() { showParams(); }, enable: !board().isPlaying() && !board().isPausing()" title="Parameters">
							<i class="material-icons custom-color">settings</i>
						</button>
						<button class="control-button"><i class="material-icons custom-color spacer"></i></button>
						<button class="control-button" data-bind="click: function() { board().fastRewind(); }, enable: !board().isPlaying()" title="Fast rewind">
							<i class="material-icons custom-color">fast_rewind</i>
						</button>
						<button class="control-button" data-bind="click: function() { board().skipToPrevious(); }, enable: !board().isPlaying()" title="Skip to previous">
							<i class="material-icons custom-color">skip_previous</i>
						</button>
						<button class="control-button" data-bind="click: function() { board().play(); }" title="Play">
							<i class="material-icons custom-color" data-bind="visible: isVisibleCanPlay">play_circle_filled</i>
							<i class="material-icons custom-color" data-bind="visible: isVisibleIsPlaying">play_circle_outline</i>
						</button>
						<button class="control-button" data-bind="click: function() { board().pause(); }" title="Pause">
							<i class="material-icons custom-color" data-bind="visible: isVisibleCanPause">pause_circle_filled</i>
							<i class="material-icons custom-color" data-bind="visible: isVisibleIsPausing">pause_circle_outline</i>
						</button>
						<button class="control-button" data-bind="click: function() { board().skipToNext(); }, enable: !board().isPlaying()" title="Skip to next">
							<i class="material-icons custom-color">skip_next</i>
						</button>
						<button class="control-button" data-bind="click: function() { board().fastForward(); }, enable: !board().isPlaying()" title="Fast forward">
							<i class="material-icons custom-color">fast_forward</i>
						</button>
						<button class="control-button" data-bind="click: function() { board().reset(); }" title="Reset">
							<i class="material-icons custom-color">stop</i>
						</button>
						<button class="control-button"><i class="material-icons custom-color spacer"></i></button>
						<button class="control-button" data-bind="click: function() { exportAliveCells(); }, enable: !board().isPlaying() && !board().isPausing()" title="Export alive cells">
							<i class="material-icons custom-color">publish</i>
						</button>
						<button class="control-button" data-bind="click: function() { showImportAliveCells(); }, enable: !board().isPlaying() && !board().isPausing()" title="Import alive cells">
							<i class="material-icons custom-color">save_alt</i>
						</button>
					</div>
					<div id="export-container" data-bind="visible: isExportVisible()">
						<div class="form-line">
							<textarea id="exportTextArea" data-bind="textInput: exportedCellsContent, hasFocus: isExportVisible()" rows="5" cols="25" disabled></textarea>
						</div>
					</div>
					<div id="import-container" data-bind="visible: isImportVisible()">
						<div class="form-line">
							<textarea id="importTextArea" data-bind="textInput: importedCellsContent, hasFocus: isImportVisible()" rows="5" cols="25"></textarea>
						</div>
						<div class="form-line import-button-container">
							<button id="import-button" data-bind="click: function() { importAliveCells(); }"><i class="material-icons custom-color">done_outline</i></button>
						</div>
					</div>
					<div id="params-container" data-bind="visible: isParamsVisible()">
						<h2 id="gol-params-title">Game of life parameters</h2>
						<div class="form-line">
							<label for="cellsPerRow">Cells per row</label>
							<input id="cellsPerRow" type="number" value="7" min="5" max="100" data-bind="event: { keyup: onParamChanged }" />
						</div>
						<div class="form-line">
							<label for="cellSize">Cell size (px)</label>
							<input id="cellSize" type="number" value="50" min="10" max="100" data-bind="event: { keyup: onParamChanged }" />
						</div>
						<div class="form-line">
							<label for="normalMutationDelay">Normal mutation delay (ms)</label>
							<input id="normalMutationDelay" type="number" value="100" min="0" data-bind="event: { keyup: onParamChanged }" />
						</div>
						<div class="form-line">
							<label for="rapidMutationDelay">Rapid mutation delay (ms)</label>
							<input id="rapidMutationDelay" type="number" value="10" min="0" data-bind="event: { keyup: onParamChanged }" />
						</div>
						<div class="form-line">
							<label for="aliveCellColor">Alive cell color</label>
							<input id="aliveCellColor" type="text" value="#374785" data-bind="event: { keyup: onParamChanged }" />
						</div>
						<div class="form-line">
							<label for="deadCellColor">Dead cell color</label>
							<input id="deadCellColor" type="text" value="#a8d0e6" data-bind="event: { keyup: onParamChanged }" />
						</div>
						<div class="form-line">
							<label for="isShowCellsCoordinates">Show cells coordinates</label>
							<input id="isShowCellsCoordinates" type="checkbox" data-bind="event: { keyup: onParamChanged }" />
						</div>
						<div class="form-line init-button-container">
							<button id="init-button" data-bind="click: function() { reinitBoard(); }"><i class="material-icons custom-color">done_outline</i></button>
						</div>
					</div>
				</div>
				<div id="board-container">
					<div data-bind="css: { 'board-disabled': !board().isEnabled(), 'board-enabled': board().isEnabled()}">
						<table id="cells-table">
							<tbody data-bind="foreach: board().boardLines">
								<tr data-bind="foreach: buttonCells">
									<td>
										<button class="cell-button"
												data-bind="style: { width: width + 'px', height: height + 'px', 'background-color': backColor() },
										click: cellButtonClick, text: text"></button>
									</td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
			</div>
		</div>
	</script>

	<script type="text/html" id="sorting-arrays">
		<div id="params" data-bind="visible: paramsOpen()">
			<h2 id="sorting-param-title">Sorting parameters</h2>
			<div class="form-line">
				<label for="arraySize">Array size</label>
				<input id="arraySize" type="number" placeholder="array size" value="32" min="10" max="800" data-bind="event: { keyup: onParamChanged }" />
			</div>
			<div class="form-line">
				<label for="startValue">Start value</label>
				<input id="startValue" type="number" placeholder="start value" value="1" min="1" max="1000" data-bind="event: { keyup: onParamChanged }" />
			</div>
			<div class="form-line">
				<label for="step">X drawing step</label>
				<input id="step" type="number" placeholder="step" value="10" min="1" max="20" data-bind="event: { keyup: onParamChanged }" />
			</div>
			<div class="form-line">
				<label for="delay">Delay (ms)</label>
				<input id="delay" type="number" placeholder="delay" value="50" min="0" max="10000" data-bind="event: { keyup: onParamChanged }" />
			</div>
			<div class="form-line">
				<label for="penColor">Pen color</label>
				<input id="penColor" type="text" placeholder="pen color" value="#edf5e1" data-bind="event: { keyup: onParamChanged }" />
			</div>
			<div class="form-line">
				<label for="backgroundColor">Background color</label>
				<input id="backgroundColor" type="text" placeholder="background color" value="#379683" data-bind="event: { keyup: onParamChanged }" />
			</div>
			<div class="form-line">
				<label for="fontSize">Font size</label>
				<input id="fontSize" type="number" placeholder="font size" value="16" min="5" max="40" data-bind="event: { keyup: onParamChanged }" />
			</div>
			<div class="form-line sort-button">
				<button id="sortButton" data-bind="click: function() { sort($parent); }">Sort</button>
			</div>
		</div>
		<div id="showHideParams-container">
			<i class="material-icons" data-bind="visible: !paramsOpen(), click: function() { paramsOpen(true); }">settings</i>
			<i class="material-icons" data-bind="visible: paramsOpen(), click: function() { paramsOpen(false); }">close</i>
		</div>
		<div id="canvas-container">
			<div id="bubblesort" class="canvas-container"></div>
			<div id="insertionsort" class="canvas-container"></div>
			<div id="heapsort" class="canvas-container"></div>
			<div id="mergesort" class="canvas-container"></div>
			<div id="quicksort" class="canvas-container"></div>
			<div id="selectionsort" class="canvas-container"></div>
		</div>
	</script>

	<div data-bind="with: currentViewModel">
		<div id="content-container" data-bind="template: { name: pageName, afterRender: function () { render(); }}">
		</div>
	</div>
</body>

</html>
<script type="text/javascript">
	var workflowViewModel = new Workflow();
	ko.applyBindings(workflowViewModel);
</script>